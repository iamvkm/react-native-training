a9452e3d24f64f91dfcbec7b0dfb7831
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _get2 = _interopRequireDefault(require("@babel/runtime/helpers/get"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var AnimatedInterpolation = require('./AnimatedInterpolation');
var AnimatedWithChildren = require('./AnimatedWithChildren');
var InteractionManager = require('../../Interaction/InteractionManager');
var NativeAnimatedHelper = require('../NativeAnimatedHelper');
var NativeAnimatedAPI = NativeAnimatedHelper.API;
function _flush(rootNode) {
  var animatedStyles = new Set();
  function findAnimatedStyles(node) {
    if (typeof node.update === 'function') {
      animatedStyles.add(node);
    } else {
      node.__getChildren().forEach(findAnimatedStyles);
    }
  }
  findAnimatedStyles(rootNode);
  animatedStyles.forEach(function (animatedStyle) {
    return animatedStyle.update();
  });
}
function _executeAsAnimatedBatch(id, operation) {
  NativeAnimatedAPI.setWaitingForIdentifier(id);
  operation();
  NativeAnimatedAPI.unsetWaitingForIdentifier(id);
}
var AnimatedValue = function (_AnimatedWithChildren) {
  (0, _inherits2.default)(AnimatedValue, _AnimatedWithChildren);
  var _super = _createSuper(AnimatedValue);
  function AnimatedValue(value) {
    var _this;
    (0, _classCallCheck2.default)(this, AnimatedValue);
    _this = _super.call(this);
    if (typeof value !== 'number') {
      throw new Error('AnimatedValue: Attempting to set value to undefined');
    }
    _this._startingValue = _this._value = value;
    _this._offset = 0;
    _this._animation = null;
    return _this;
  }
  (0, _createClass2.default)(AnimatedValue, [{
    key: "__detach",
    value: function __detach() {
      var _this2 = this;
      if (this.__isNative) {
        NativeAnimatedAPI.getValue(this.__getNativeTag(), function (value) {
          _this2._value = value - _this2._offset;
        });
      }
      this.stopAnimation();
      (0, _get2.default)((0, _getPrototypeOf2.default)(AnimatedValue.prototype), "__detach", this).call(this);
    }
  }, {
    key: "__getValue",
    value: function __getValue() {
      return this._value + this._offset;
    }
  }, {
    key: "setValue",
    value: function setValue(value) {
      var _this3 = this;
      if (this._animation) {
        this._animation.stop();
        this._animation = null;
      }
      this._updateValue(value, !this.__isNative);
      if (this.__isNative) {
        _executeAsAnimatedBatch(this.__getNativeTag().toString(), function () {
          NativeAnimatedAPI.setAnimatedNodeValue(_this3.__getNativeTag(), value);
        });
      }
    }
  }, {
    key: "setOffset",
    value: function setOffset(offset) {
      this._offset = offset;
      if (this.__isNative) {
        NativeAnimatedAPI.setAnimatedNodeOffset(this.__getNativeTag(), offset);
      }
    }
  }, {
    key: "flattenOffset",
    value: function flattenOffset() {
      this._value += this._offset;
      this._offset = 0;
      if (this.__isNative) {
        NativeAnimatedAPI.flattenAnimatedNodeOffset(this.__getNativeTag());
      }
    }
  }, {
    key: "extractOffset",
    value: function extractOffset() {
      this._offset += this._value;
      this._value = 0;
      if (this.__isNative) {
        NativeAnimatedAPI.extractAnimatedNodeOffset(this.__getNativeTag());
      }
    }
  }, {
    key: "stopAnimation",
    value: function stopAnimation(callback) {
      this.stopTracking();
      this._animation && this._animation.stop();
      this._animation = null;
      if (callback) {
        if (this.__isNative) {
          NativeAnimatedAPI.getValue(this.__getNativeTag(), callback);
        } else {
          callback(this.__getValue());
        }
      }
    }
  }, {
    key: "resetAnimation",
    value: function resetAnimation(callback) {
      this.stopAnimation(callback);
      this._value = this._startingValue;
      if (this.__isNative) {
        NativeAnimatedAPI.setAnimatedNodeValue(this.__getNativeTag(), this._startingValue);
      }
    }
  }, {
    key: "_onAnimatedValueUpdateReceived",
    value: function _onAnimatedValueUpdateReceived(value) {
      this._updateValue(value, false);
    }
  }, {
    key: "interpolate",
    value: function interpolate(config) {
      return new AnimatedInterpolation(this, config);
    }
  }, {
    key: "animate",
    value: function animate(animation, callback) {
      var _this4 = this;
      var handle = null;
      if (animation.__isInteraction) {
        handle = InteractionManager.createInteractionHandle();
      }
      var previousAnimation = this._animation;
      this._animation && this._animation.stop();
      this._animation = animation;
      animation.start(this._value, function (value) {
        _this4._updateValue(value, true);
      }, function (result) {
        _this4._animation = null;
        if (handle !== null) {
          InteractionManager.clearInteractionHandle(handle);
        }
        callback && callback(result);
      }, previousAnimation, this);
    }
  }, {
    key: "stopTracking",
    value: function stopTracking() {
      this._tracking && this._tracking.__detach();
      this._tracking = null;
    }
  }, {
    key: "track",
    value: function track(tracking) {
      this.stopTracking();
      this._tracking = tracking;
      this._tracking && this._tracking.update();
    }
  }, {
    key: "_updateValue",
    value: function _updateValue(value, flush) {
      if (value === undefined) {
        throw new Error('AnimatedValue: Attempting to set value to undefined');
      }
      this._value = value;
      if (flush) {
        _flush(this);
      }
      (0, _get2.default)((0, _getPrototypeOf2.default)(AnimatedValue.prototype), "__callListeners", this).call(this, this.__getValue());
    }
  }, {
    key: "__getNativeConfig",
    value: function __getNativeConfig() {
      return {
        type: 'value',
        value: this._value,
        offset: this._offset
      };
    }
  }]);
  return AnimatedValue;
}(AnimatedWithChildren);
module.exports = AnimatedValue;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY3JlYXRlQ2xhc3MyIiwiX2dldDIiLCJfaW5oZXJpdHMyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2dldFByb3RvdHlwZU9mMiIsIl9jcmVhdGVTdXBlciIsIkRlcml2ZWQiLCJoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9jcmVhdGVTdXBlckludGVybmFsIiwiU3VwZXIiLCJkZWZhdWx0IiwicmVzdWx0IiwiTmV3VGFyZ2V0IiwiY29uc3RydWN0b3IiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiYXJndW1lbnRzIiwiYXBwbHkiLCJzaGFtIiwiUHJveHkiLCJCb29sZWFuIiwicHJvdG90eXBlIiwidmFsdWVPZiIsImNhbGwiLCJlIiwiQW5pbWF0ZWRJbnRlcnBvbGF0aW9uIiwiQW5pbWF0ZWRXaXRoQ2hpbGRyZW4iLCJJbnRlcmFjdGlvbk1hbmFnZXIiLCJOYXRpdmVBbmltYXRlZEhlbHBlciIsIk5hdGl2ZUFuaW1hdGVkQVBJIiwiQVBJIiwiX2ZsdXNoIiwicm9vdE5vZGUiLCJhbmltYXRlZFN0eWxlcyIsIlNldCIsImZpbmRBbmltYXRlZFN0eWxlcyIsIm5vZGUiLCJ1cGRhdGUiLCJhZGQiLCJfX2dldENoaWxkcmVuIiwiZm9yRWFjaCIsImFuaW1hdGVkU3R5bGUiLCJfZXhlY3V0ZUFzQW5pbWF0ZWRCYXRjaCIsImlkIiwib3BlcmF0aW9uIiwic2V0V2FpdGluZ0ZvcklkZW50aWZpZXIiLCJ1bnNldFdhaXRpbmdGb3JJZGVudGlmaWVyIiwiQW5pbWF0ZWRWYWx1ZSIsIl9BbmltYXRlZFdpdGhDaGlsZHJlbiIsIl9zdXBlciIsInZhbHVlIiwiX3RoaXMiLCJFcnJvciIsIl9zdGFydGluZ1ZhbHVlIiwiX3ZhbHVlIiwiX29mZnNldCIsIl9hbmltYXRpb24iLCJrZXkiLCJfX2RldGFjaCIsIl90aGlzMiIsIl9faXNOYXRpdmUiLCJnZXRWYWx1ZSIsIl9fZ2V0TmF0aXZlVGFnIiwic3RvcEFuaW1hdGlvbiIsIl9fZ2V0VmFsdWUiLCJzZXRWYWx1ZSIsIl90aGlzMyIsInN0b3AiLCJfdXBkYXRlVmFsdWUiLCJ0b1N0cmluZyIsInNldEFuaW1hdGVkTm9kZVZhbHVlIiwic2V0T2Zmc2V0Iiwib2Zmc2V0Iiwic2V0QW5pbWF0ZWROb2RlT2Zmc2V0IiwiZmxhdHRlbk9mZnNldCIsImZsYXR0ZW5BbmltYXRlZE5vZGVPZmZzZXQiLCJleHRyYWN0T2Zmc2V0IiwiZXh0cmFjdEFuaW1hdGVkTm9kZU9mZnNldCIsImNhbGxiYWNrIiwic3RvcFRyYWNraW5nIiwicmVzZXRBbmltYXRpb24iLCJfb25BbmltYXRlZFZhbHVlVXBkYXRlUmVjZWl2ZWQiLCJpbnRlcnBvbGF0ZSIsImNvbmZpZyIsImFuaW1hdGUiLCJhbmltYXRpb24iLCJfdGhpczQiLCJoYW5kbGUiLCJfX2lzSW50ZXJhY3Rpb24iLCJjcmVhdGVJbnRlcmFjdGlvbkhhbmRsZSIsInByZXZpb3VzQW5pbWF0aW9uIiwic3RhcnQiLCJjbGVhckludGVyYWN0aW9uSGFuZGxlIiwiX3RyYWNraW5nIiwidHJhY2siLCJ0cmFja2luZyIsImZsdXNoIiwidW5kZWZpbmVkIiwiX19nZXROYXRpdmVDb25maWciLCJ0eXBlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkFuaW1hdGVkVmFsdWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBBbmltYXRlZEludGVycG9sYXRpb24gPSByZXF1aXJlKCcuL0FuaW1hdGVkSW50ZXJwb2xhdGlvbicpO1xuY29uc3QgQW5pbWF0ZWRXaXRoQ2hpbGRyZW4gPSByZXF1aXJlKCcuL0FuaW1hdGVkV2l0aENoaWxkcmVuJyk7XG5jb25zdCBJbnRlcmFjdGlvbk1hbmFnZXIgPSByZXF1aXJlKCcuLi8uLi9JbnRlcmFjdGlvbi9JbnRlcmFjdGlvbk1hbmFnZXInKTtcbmNvbnN0IE5hdGl2ZUFuaW1hdGVkSGVscGVyID0gcmVxdWlyZSgnLi4vTmF0aXZlQW5pbWF0ZWRIZWxwZXInKTtcblxuaW1wb3J0IHR5cGUgQW5pbWF0ZWROb2RlIGZyb20gJy4vQW5pbWF0ZWROb2RlJztcbmltcG9ydCB0eXBlIEFuaW1hdGlvbiwge0VuZENhbGxiYWNrfSBmcm9tICcuLi9hbmltYXRpb25zL0FuaW1hdGlvbic7XG5pbXBvcnQgdHlwZSB7SW50ZXJwb2xhdGlvbkNvbmZpZ1R5cGV9IGZyb20gJy4vQW5pbWF0ZWRJbnRlcnBvbGF0aW9uJztcbmltcG9ydCB0eXBlIEFuaW1hdGVkVHJhY2tpbmcgZnJvbSAnLi9BbmltYXRlZFRyYWNraW5nJztcblxuY29uc3QgTmF0aXZlQW5pbWF0ZWRBUEkgPSBOYXRpdmVBbmltYXRlZEhlbHBlci5BUEk7XG5cbi8qKlxuICogQW5pbWF0ZWQgd29ya3MgYnkgYnVpbGRpbmcgYSBkaXJlY3RlZCBhY3ljbGljIGdyYXBoIG9mIGRlcGVuZGVuY2llc1xuICogdHJhbnNwYXJlbnRseSB3aGVuIHlvdSByZW5kZXIgeW91ciBBbmltYXRlZCBjb21wb25lbnRzLlxuICpcbiAqICAgICAgICAgICAgICAgbmV3IEFuaW1hdGVkLlZhbHVlKDApXG4gKiAgICAgLmludGVycG9sYXRlKCkgICAgICAgIC5pbnRlcnBvbGF0ZSgpICAgIG5ldyBBbmltYXRlZC5WYWx1ZSgxKVxuICogICAgICAgICBvcGFjaXR5ICAgICAgICAgICAgICAgdHJhbnNsYXRlWSAgICAgIHNjYWxlXG4gKiAgICAgICAgICBzdHlsZSAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1cbiAqICAgICAgICAgVmlldyMyMzQgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWaWV3IzEyM1xuICpcbiAqIEEpIFRvcCBEb3duIHBoYXNlXG4gKiBXaGVuIGFuIEFuaW1hdGVkLlZhbHVlIGlzIHVwZGF0ZWQsIHdlIHJlY3Vyc2l2ZWx5IGdvIGRvd24gdGhyb3VnaCB0aGlzXG4gKiBncmFwaCBpbiBvcmRlciB0byBmaW5kIGxlYWYgbm9kZXM6IHRoZSB2aWV3cyB0aGF0IHdlIGZsYWcgYXMgbmVlZGluZ1xuICogYW4gdXBkYXRlLlxuICpcbiAqIEIpIEJvdHRvbSBVcCBwaGFzZVxuICogV2hlbiBhIHZpZXcgaXMgZmxhZ2dlZCBhcyBuZWVkaW5nIGFuIHVwZGF0ZSwgd2UgcmVjdXJzaXZlbHkgZ28gYmFjayB1cFxuICogaW4gb3JkZXIgdG8gYnVpbGQgdGhlIG5ldyB2YWx1ZSB0aGF0IGl0IG5lZWRzLiBUaGUgcmVhc29uIHdoeSB3ZSBuZWVkXG4gKiB0aGlzIHR3by1waGFzZXMgcHJvY2VzcyBpcyB0byBkZWFsIHdpdGggY29tcG9zaXRlIHByb3BzIHN1Y2ggYXNcbiAqIHRyYW5zZm9ybSB3aGljaCBjYW4gcmVjZWl2ZSB2YWx1ZXMgZnJvbSBtdWx0aXBsZSBwYXJlbnRzLlxuICovXG5mdW5jdGlvbiBfZmx1c2gocm9vdE5vZGU6IEFuaW1hdGVkVmFsdWUpOiB2b2lkIHtcbiAgY29uc3QgYW5pbWF0ZWRTdHlsZXMgPSBuZXcgU2V0KCk7XG4gIGZ1bmN0aW9uIGZpbmRBbmltYXRlZFN0eWxlcyhub2RlOiBBbmltYXRlZFZhbHVlIHwgQW5pbWF0ZWROb2RlKSB7XG4gICAgLyogJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddICg+PTAuNjguMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50XG4gICAgICogc3VwcHJlc3NlcyBhbiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjggd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yXG4gICAgICogZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgaWYgKHR5cGVvZiBub2RlLnVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYW5pbWF0ZWRTdHlsZXMuYWRkKG5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLl9fZ2V0Q2hpbGRyZW4oKS5mb3JFYWNoKGZpbmRBbmltYXRlZFN0eWxlcyk7XG4gICAgfVxuICB9XG4gIGZpbmRBbmltYXRlZFN0eWxlcyhyb290Tm9kZSk7XG4gIC8vICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXVxuICBhbmltYXRlZFN0eWxlcy5mb3JFYWNoKGFuaW1hdGVkU3R5bGUgPT4gYW5pbWF0ZWRTdHlsZS51cGRhdGUoKSk7XG59XG5cbi8qKlxuICogU29tZSBvcGVyYXRpb25zIGFyZSBleGVjdXRlZCBvbmx5IG9uIGJhdGNoIGVuZCwgd2hpY2ggaXMgX21vc3RseV8gc2NoZWR1bGVkIHdoZW5cbiAqIEFuaW1hdGVkIGNvbXBvbmVudCBwcm9wcyBjaGFuZ2UuIEZvciBzb21lIG9mIHRoZSBjaGFuZ2VzIHdoaWNoIHJlcXVpcmUgaW1tZWRpYXRlIGV4ZWN1dGlvblxuICogKGUuZy4gc2V0VmFsdWUpLCB3ZSBjcmVhdGUgYSBzZXBhcmF0ZSBiYXRjaCBpbiBjYXNlIG5vbmUgaXMgc2NoZWR1bGVkLlxuICovXG5mdW5jdGlvbiBfZXhlY3V0ZUFzQW5pbWF0ZWRCYXRjaChpZDogc3RyaW5nLCBvcGVyYXRpb246ICgpID0+IHZvaWQpIHtcbiAgTmF0aXZlQW5pbWF0ZWRBUEkuc2V0V2FpdGluZ0ZvcklkZW50aWZpZXIoaWQpO1xuICBvcGVyYXRpb24oKTtcbiAgTmF0aXZlQW5pbWF0ZWRBUEkudW5zZXRXYWl0aW5nRm9ySWRlbnRpZmllcihpZCk7XG59XG5cbi8qKlxuICogU3RhbmRhcmQgdmFsdWUgZm9yIGRyaXZpbmcgYW5pbWF0aW9ucy4gIE9uZSBgQW5pbWF0ZWQuVmFsdWVgIGNhbiBkcml2ZVxuICogbXVsdGlwbGUgcHJvcGVydGllcyBpbiBhIHN5bmNocm9uaXplZCBmYXNoaW9uLCBidXQgY2FuIG9ubHkgYmUgZHJpdmVuIGJ5IG9uZVxuICogbWVjaGFuaXNtIGF0IGEgdGltZS4gIFVzaW5nIGEgbmV3IG1lY2hhbmlzbSAoZS5nLiBzdGFydGluZyBhIG5ldyBhbmltYXRpb24sXG4gKiBvciBjYWxsaW5nIGBzZXRWYWx1ZWApIHdpbGwgc3RvcCBhbnkgcHJldmlvdXMgb25lcy5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVlXG4gKi9cbmNsYXNzIEFuaW1hdGVkVmFsdWUgZXh0ZW5kcyBBbmltYXRlZFdpdGhDaGlsZHJlbiB7XG4gIF92YWx1ZTogbnVtYmVyO1xuICBfc3RhcnRpbmdWYWx1ZTogbnVtYmVyO1xuICBfb2Zmc2V0OiBudW1iZXI7XG4gIF9hbmltYXRpb246ID9BbmltYXRpb247XG4gIF90cmFja2luZzogP0FuaW1hdGVkVHJhY2tpbmc7XG5cbiAgY29uc3RydWN0b3IodmFsdWU6IG51bWJlcikge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQW5pbWF0ZWRWYWx1ZTogQXR0ZW1wdGluZyB0byBzZXQgdmFsdWUgdG8gdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIHRoaXMuX3N0YXJ0aW5nVmFsdWUgPSB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuX29mZnNldCA9IDA7XG4gICAgdGhpcy5fYW5pbWF0aW9uID0gbnVsbDtcbiAgfVxuXG4gIF9fZGV0YWNoKCkge1xuICAgIGlmICh0aGlzLl9faXNOYXRpdmUpIHtcbiAgICAgIE5hdGl2ZUFuaW1hdGVkQVBJLmdldFZhbHVlKHRoaXMuX19nZXROYXRpdmVUYWcoKSwgdmFsdWUgPT4ge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlIC0gdGhpcy5fb2Zmc2V0O1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuc3RvcEFuaW1hdGlvbigpO1xuICAgIHN1cGVyLl9fZGV0YWNoKCk7XG4gIH1cblxuICBfX2dldFZhbHVlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlICsgdGhpcy5fb2Zmc2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIERpcmVjdGx5IHNldCB0aGUgdmFsdWUuICBUaGlzIHdpbGwgc3RvcCBhbnkgYW5pbWF0aW9ucyBydW5uaW5nIG9uIHRoZSB2YWx1ZVxuICAgKiBhbmQgdXBkYXRlIGFsbCB0aGUgYm91bmQgcHJvcGVydGllcy5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZSNzZXR2YWx1ZVxuICAgKi9cbiAgc2V0VmFsdWUodmFsdWU6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLl9hbmltYXRpb24pIHtcbiAgICAgIHRoaXMuX2FuaW1hdGlvbi5zdG9wKCk7XG4gICAgICB0aGlzLl9hbmltYXRpb24gPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLl91cGRhdGVWYWx1ZShcbiAgICAgIHZhbHVlLFxuICAgICAgIXRoaXMuX19pc05hdGl2ZSAvKiBkb24ndCBwZXJmb3JtIGEgZmx1c2ggZm9yIG5hdGl2ZWx5IGRyaXZlbiB2YWx1ZXMgKi8sXG4gICAgKTtcbiAgICBpZiAodGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICBfZXhlY3V0ZUFzQW5pbWF0ZWRCYXRjaCh0aGlzLl9fZ2V0TmF0aXZlVGFnKCkudG9TdHJpbmcoKSwgKCkgPT4ge1xuICAgICAgICBOYXRpdmVBbmltYXRlZEFQSS5zZXRBbmltYXRlZE5vZGVWYWx1ZSh0aGlzLl9fZ2V0TmF0aXZlVGFnKCksIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGFuIG9mZnNldCB0aGF0IGlzIGFwcGxpZWQgb24gdG9wIG9mIHdoYXRldmVyIHZhbHVlIGlzIHNldCwgd2hldGhlciB2aWFcbiAgICogYHNldFZhbHVlYCwgYW4gYW5pbWF0aW9uLCBvciBgQW5pbWF0ZWQuZXZlbnRgLiAgVXNlZnVsIGZvciBjb21wZW5zYXRpbmdcbiAgICogdGhpbmdzIGxpa2UgdGhlIHN0YXJ0IG9mIGEgcGFuIGdlc3R1cmUuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWUjc2V0b2Zmc2V0XG4gICAqL1xuICBzZXRPZmZzZXQob2Zmc2V0OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9vZmZzZXQgPSBvZmZzZXQ7XG4gICAgaWYgKHRoaXMuX19pc05hdGl2ZSkge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRBUEkuc2V0QW5pbWF0ZWROb2RlT2Zmc2V0KHRoaXMuX19nZXROYXRpdmVUYWcoKSwgb2Zmc2V0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWVyZ2VzIHRoZSBvZmZzZXQgdmFsdWUgaW50byB0aGUgYmFzZSB2YWx1ZSBhbmQgcmVzZXRzIHRoZSBvZmZzZXQgdG8gemVyby5cbiAgICogVGhlIGZpbmFsIG91dHB1dCBvZiB0aGUgdmFsdWUgaXMgdW5jaGFuZ2VkLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVlI2ZsYXR0ZW5vZmZzZXRcbiAgICovXG4gIGZsYXR0ZW5PZmZzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5fdmFsdWUgKz0gdGhpcy5fb2Zmc2V0O1xuICAgIHRoaXMuX29mZnNldCA9IDA7XG4gICAgaWYgKHRoaXMuX19pc05hdGl2ZSkge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRBUEkuZmxhdHRlbkFuaW1hdGVkTm9kZU9mZnNldCh0aGlzLl9fZ2V0TmF0aXZlVGFnKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBvZmZzZXQgdmFsdWUgdG8gdGhlIGJhc2UgdmFsdWUsIGFuZCByZXNldHMgdGhlIGJhc2UgdmFsdWUgdG8gemVyby5cbiAgICogVGhlIGZpbmFsIG91dHB1dCBvZiB0aGUgdmFsdWUgaXMgdW5jaGFuZ2VkLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVlI2V4dHJhY3RvZmZzZXRcbiAgICovXG4gIGV4dHJhY3RPZmZzZXQoKTogdm9pZCB7XG4gICAgdGhpcy5fb2Zmc2V0ICs9IHRoaXMuX3ZhbHVlO1xuICAgIHRoaXMuX3ZhbHVlID0gMDtcbiAgICBpZiAodGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICBOYXRpdmVBbmltYXRlZEFQSS5leHRyYWN0QW5pbWF0ZWROb2RlT2Zmc2V0KHRoaXMuX19nZXROYXRpdmVUYWcoKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3BzIGFueSBydW5uaW5nIGFuaW1hdGlvbiBvciB0cmFja2luZy4gYGNhbGxiYWNrYCBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAqIGZpbmFsIHZhbHVlIGFmdGVyIHN0b3BwaW5nIHRoZSBhbmltYXRpb24sIHdoaWNoIGlzIHVzZWZ1bCBmb3IgdXBkYXRpbmdcbiAgICogc3RhdGUgdG8gbWF0Y2ggdGhlIGFuaW1hdGlvbiBwb3NpdGlvbiB3aXRoIGxheW91dC5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZSNzdG9wYW5pbWF0aW9uXG4gICAqL1xuICBzdG9wQW5pbWF0aW9uKGNhbGxiYWNrPzogPyh2YWx1ZTogbnVtYmVyKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wVHJhY2tpbmcoKTtcbiAgICB0aGlzLl9hbmltYXRpb24gJiYgdGhpcy5fYW5pbWF0aW9uLnN0b3AoKTtcbiAgICB0aGlzLl9hbmltYXRpb24gPSBudWxsO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgaWYgKHRoaXMuX19pc05hdGl2ZSkge1xuICAgICAgICBOYXRpdmVBbmltYXRlZEFQSS5nZXRWYWx1ZSh0aGlzLl9fZ2V0TmF0aXZlVGFnKCksIGNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMuX19nZXRWYWx1ZSgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgYW55IGFuaW1hdGlvbiBhbmQgcmVzZXRzIHRoZSB2YWx1ZSB0byBpdHMgb3JpZ2luYWwuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWUjcmVzZXRhbmltYXRpb25cbiAgICovXG4gIHJlc2V0QW5pbWF0aW9uKGNhbGxiYWNrPzogPyh2YWx1ZTogbnVtYmVyKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wQW5pbWF0aW9uKGNhbGxiYWNrKTtcbiAgICB0aGlzLl92YWx1ZSA9IHRoaXMuX3N0YXJ0aW5nVmFsdWU7XG4gICAgaWYgKHRoaXMuX19pc05hdGl2ZSkge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRBUEkuc2V0QW5pbWF0ZWROb2RlVmFsdWUoXG4gICAgICAgIHRoaXMuX19nZXROYXRpdmVUYWcoKSxcbiAgICAgICAgdGhpcy5fc3RhcnRpbmdWYWx1ZSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgX29uQW5pbWF0ZWRWYWx1ZVVwZGF0ZVJlY2VpdmVkKHZhbHVlOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl91cGRhdGVWYWx1ZSh2YWx1ZSwgZmFsc2UgLypmbHVzaCovKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnRlcnBvbGF0ZXMgdGhlIHZhbHVlIGJlZm9yZSB1cGRhdGluZyB0aGUgcHJvcGVydHksIGUuZy4gbWFwcGluZyAwLTEgdG9cbiAgICogMC0xMC5cbiAgICovXG4gIGludGVycG9sYXRlKGNvbmZpZzogSW50ZXJwb2xhdGlvbkNvbmZpZ1R5cGUpOiBBbmltYXRlZEludGVycG9sYXRpb24ge1xuICAgIHJldHVybiBuZXcgQW5pbWF0ZWRJbnRlcnBvbGF0aW9uKHRoaXMsIGNvbmZpZyk7XG4gIH1cblxuICAvKipcbiAgICogVHlwaWNhbGx5IG9ubHkgdXNlZCBpbnRlcm5hbGx5LCBidXQgY291bGQgYmUgdXNlZCBieSBhIGN1c3RvbSBBbmltYXRpb25cbiAgICogY2xhc3MuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWUjYW5pbWF0ZVxuICAgKi9cbiAgYW5pbWF0ZShhbmltYXRpb246IEFuaW1hdGlvbiwgY2FsbGJhY2s6ID9FbmRDYWxsYmFjayk6IHZvaWQge1xuICAgIGxldCBoYW5kbGUgPSBudWxsO1xuICAgIGlmIChhbmltYXRpb24uX19pc0ludGVyYWN0aW9uKSB7XG4gICAgICBoYW5kbGUgPSBJbnRlcmFjdGlvbk1hbmFnZXIuY3JlYXRlSW50ZXJhY3Rpb25IYW5kbGUoKTtcbiAgICB9XG4gICAgY29uc3QgcHJldmlvdXNBbmltYXRpb24gPSB0aGlzLl9hbmltYXRpb247XG4gICAgdGhpcy5fYW5pbWF0aW9uICYmIHRoaXMuX2FuaW1hdGlvbi5zdG9wKCk7XG4gICAgdGhpcy5fYW5pbWF0aW9uID0gYW5pbWF0aW9uO1xuICAgIGFuaW1hdGlvbi5zdGFydChcbiAgICAgIHRoaXMuX3ZhbHVlLFxuICAgICAgdmFsdWUgPT4ge1xuICAgICAgICAvLyBOYXRpdmVseSBkcml2ZW4gYW5pbWF0aW9ucyB3aWxsIG5ldmVyIGNhbGwgaW50byB0aGF0IGNhbGxiYWNrLCB0aGVyZWZvcmUgd2UgY2FuIGFsd2F5c1xuICAgICAgICAvLyBwYXNzIGZsdXNoID0gdHJ1ZSB0byBhbGxvdyB0aGUgdXBkYXRlZCB2YWx1ZSB0byBwcm9wYWdhdGUgdG8gbmF0aXZlIHdpdGggc2V0TmF0aXZlUHJvcHNcbiAgICAgICAgdGhpcy5fdXBkYXRlVmFsdWUodmFsdWUsIHRydWUgLyogZmx1c2ggKi8pO1xuICAgICAgfSxcbiAgICAgIHJlc3VsdCA9PiB7XG4gICAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IG51bGw7XG4gICAgICAgIGlmIChoYW5kbGUgIT09IG51bGwpIHtcbiAgICAgICAgICBJbnRlcmFjdGlvbk1hbmFnZXIuY2xlYXJJbnRlcmFjdGlvbkhhbmRsZShoYW5kbGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICB9LFxuICAgICAgcHJldmlvdXNBbmltYXRpb24sXG4gICAgICB0aGlzLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogVHlwaWNhbGx5IG9ubHkgdXNlZCBpbnRlcm5hbGx5LlxuICAgKi9cbiAgc3RvcFRyYWNraW5nKCk6IHZvaWQge1xuICAgIHRoaXMuX3RyYWNraW5nICYmIHRoaXMuX3RyYWNraW5nLl9fZGV0YWNoKCk7XG4gICAgdGhpcy5fdHJhY2tpbmcgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFR5cGljYWxseSBvbmx5IHVzZWQgaW50ZXJuYWxseS5cbiAgICovXG4gIHRyYWNrKHRyYWNraW5nOiBBbmltYXRlZFRyYWNraW5nKTogdm9pZCB7XG4gICAgdGhpcy5zdG9wVHJhY2tpbmcoKTtcbiAgICB0aGlzLl90cmFja2luZyA9IHRyYWNraW5nO1xuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSB0cmFja2luZyBhbmltYXRpb24gc3RhcnRzIGV4ZWN1dGluZ1xuICAgIHRoaXMuX3RyYWNraW5nICYmIHRoaXMuX3RyYWNraW5nLnVwZGF0ZSgpO1xuICB9XG5cbiAgX3VwZGF0ZVZhbHVlKHZhbHVlOiBudW1iZXIsIGZsdXNoOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQW5pbWF0ZWRWYWx1ZTogQXR0ZW1wdGluZyB0byBzZXQgdmFsdWUgdG8gdW5kZWZpbmVkJyk7XG4gICAgfVxuXG4gICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICBpZiAoZmx1c2gpIHtcbiAgICAgIF9mbHVzaCh0aGlzKTtcbiAgICB9XG4gICAgc3VwZXIuX19jYWxsTGlzdGVuZXJzKHRoaXMuX19nZXRWYWx1ZSgpKTtcbiAgfVxuXG4gIF9fZ2V0TmF0aXZlQ29uZmlnKCk6IE9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICd2YWx1ZScsXG4gICAgICB2YWx1ZTogdGhpcy5fdmFsdWUsXG4gICAgICBvZmZzZXQ6IHRoaXMuX29mZnNldCxcbiAgICB9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQW5pbWF0ZWRWYWx1ZTtcbiJdLCJtYXBwaW5ncyI6IkFBVUEsWUFBWTs7QUFBQyxJQUFBQSxzQkFBQSxHQUFBQyxPQUFBO0FBQUEsSUFBQUMsZ0JBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFFLGFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFHLEtBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFJLFVBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFLLDJCQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBTSxnQkFBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQUEsU0FBQU8sYUFBQUMsT0FBQSxRQUFBQyx5QkFBQSxHQUFBQyx5QkFBQSxvQkFBQUMscUJBQUEsUUFBQUMsS0FBQSxPQUFBTixnQkFBQSxDQUFBTyxPQUFBLEVBQUFMLE9BQUEsR0FBQU0sTUFBQSxNQUFBTCx5QkFBQSxRQUFBTSxTQUFBLE9BQUFULGdCQUFBLENBQUFPLE9BQUEsUUFBQUcsV0FBQSxFQUFBRixNQUFBLEdBQUFHLE9BQUEsQ0FBQUMsU0FBQSxDQUFBTixLQUFBLEVBQUFPLFNBQUEsRUFBQUosU0FBQSxZQUFBRCxNQUFBLEdBQUFGLEtBQUEsQ0FBQVEsS0FBQSxPQUFBRCxTQUFBLGdCQUFBZCwyQkFBQSxDQUFBUSxPQUFBLFFBQUFDLE1BQUE7QUFBQSxTQUFBSiwwQkFBQSxlQUFBTyxPQUFBLHFCQUFBQSxPQUFBLENBQUFDLFNBQUEsb0JBQUFE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