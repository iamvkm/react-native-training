086baf90cc43ec12b8a339c22a27afbe
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _EmitterSubscription = _interopRequireDefault(require("./_EmitterSubscription"));
var _EventSubscriptionVendor = _interopRequireDefault(require("./_EventSubscriptionVendor"));
var invariant = require('invariant');
var sparseFilterPredicate = function sparseFilterPredicate() {
  return true;
};
var EventEmitter = function () {
  function EventEmitter(subscriber) {
    (0, _classCallCheck2.default)(this, EventEmitter);
    this._subscriber = new _EventSubscriptionVendor.default();
    if (subscriber != null) {
      console.warn('EventEmitter(...): Constructor argument is deprecated.');
      this._subscriber = subscriber;
    }
  }
  (0, _createClass2.default)(EventEmitter, [{
    key: "addListener",
    value: function addListener(eventType, listener, context) {
      return this._subscriber.addSubscription(eventType, new _EmitterSubscription.default(this, this._subscriber, listener, context));
    }
  }, {
    key: "removeAllListeners",
    value: function removeAllListeners(eventType) {
      this._subscriber.removeAllSubscriptions(eventType);
    }
  }, {
    key: "removeSubscription",
    value: function removeSubscription(subscription) {
      console.warn('EventEmitter.removeSubscription(...): Method has been deprecated. ' + 'Please instead use `remove()` on the subscription itself.');
      this.__removeSubscription(subscription);
    }
  }, {
    key: "__removeSubscription",
    value: function __removeSubscription(subscription) {
      invariant(subscription.emitter === this, 'Subscription does not belong to this emitter.');
      this._subscriber.removeSubscription(subscription);
    }
  }, {
    key: "listenerCount",
    value: function listenerCount(eventType) {
      var subscriptions = this._subscriber.getSubscriptionsForType(eventType);
      return subscriptions ? subscriptions.filter(sparseFilterPredicate).length : 0;
    }
  }, {
    key: "emit",
    value: function emit(eventType) {
      var subscriptions = this._subscriber.getSubscriptionsForType(eventType);
      if (subscriptions) {
        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }
        for (var i = 0, l = subscriptions.length; i < l; i++) {
          var subscription = subscriptions[i];
          if (subscription && subscription.listener) {
            subscription.listener.apply(subscription.context, args);
          }
        }
      }
    }
  }, {
    key: "removeListener",
    value: function removeListener(eventType, listener) {
      console.warn(`EventEmitter.removeListener('${eventType}', ...): Method has been ` + 'deprecated. Please instead use `remove()` on the subscription ' + 'returned by `EventEmitter.addListener`.');
      var subscriptions = this._subscriber.getSubscriptionsForType(eventType);
      if (subscriptions) {
        for (var i = 0, l = subscriptions.length; i < l; i++) {
          var subscription = subscriptions[i];
          if (subscription && subscription.listener === listener) {
            subscription.remove();
          }
        }
      }
    }
  }]);
  return EventEmitter;
}();
module.exports = EventEmitter;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfRW1pdHRlclN1YnNjcmlwdGlvbiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0V2ZW50U3Vic2NyaXB0aW9uVmVuZG9yIiwiaW52YXJpYW50Iiwic3BhcnNlRmlsdGVyUHJlZGljYXRlIiwiRXZlbnRFbWl0dGVyIiwic3Vic2NyaWJlciIsIl9jbGFzc0NhbGxDaGVjazIiLCJkZWZhdWx0IiwiX3N1YnNjcmliZXIiLCJFdmVudFN1YnNjcmlwdGlvblZlbmRvciIsImNvbnNvbGUiLCJ3YXJuIiwiX2NyZWF0ZUNsYXNzMiIsImtleSIsInZhbHVlIiwiYWRkTGlzdGVuZXIiLCJldmVudFR5cGUiLCJsaXN0ZW5lciIsImNvbnRleHQiLCJhZGRTdWJzY3JpcHRpb24iLCJFbWl0dGVyU3Vic2NyaXB0aW9uIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicmVtb3ZlQWxsU3Vic2NyaXB0aW9ucyIsInJlbW92ZVN1YnNjcmlwdGlvbiIsInN1YnNjcmlwdGlvbiIsIl9fcmVtb3ZlU3Vic2NyaXB0aW9uIiwiZW1pdHRlciIsImxpc3RlbmVyQ291bnQiLCJzdWJzY3JpcHRpb25zIiwiZ2V0U3Vic2NyaXB0aW9uc0ZvclR5cGUiLCJmaWx0ZXIiLCJsZW5ndGgiLCJlbWl0IiwiX2xlbiIsImFyZ3VtZW50cyIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJpIiwibCIsImFwcGx5IiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiX0V2ZW50RW1pdHRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogQGZsb3cgc3RyaWN0XG4gKiBAdHlwZWNoZWNrXG4gKi9cblxuY29uc3QgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbmltcG9ydCBFbWl0dGVyU3Vic2NyaXB0aW9uIGZyb20gJy4vX0VtaXR0ZXJTdWJzY3JpcHRpb24nO1xuaW1wb3J0IHt0eXBlIEV2ZW50U3Vic2NyaXB0aW9ufSBmcm9tICcuL0V2ZW50U3Vic2NyaXB0aW9uJztcbmltcG9ydCBFdmVudFN1YnNjcmlwdGlvblZlbmRvciBmcm9tICcuL19FdmVudFN1YnNjcmlwdGlvblZlbmRvcic7XG5cbmNvbnN0IHNwYXJzZUZpbHRlclByZWRpY2F0ZSA9ICgpID0+IHRydWU7XG5cbi8qKlxuICogQGNsYXNzIEV2ZW50RW1pdHRlclxuICogQGRlc2NyaXB0aW9uXG4gKiBBbiBFdmVudEVtaXR0ZXIgaXMgcmVzcG9uc2libGUgZm9yIG1hbmFnaW5nIGEgc2V0IG9mIGxpc3RlbmVycyBhbmQgcHVibGlzaGluZ1xuICogZXZlbnRzIHRvIHRoZW0gd2hlbiBpdCBpcyB0b2xkIHRoYXQgc3VjaCBldmVudHMgaGFwcGVuZWQuIEluIGFkZGl0aW9uIHRvIHRoZVxuICogZGF0YSBmb3IgdGhlIGdpdmVuIGV2ZW50IGl0IGFsc28gc2VuZHMgYSBldmVudCBjb250cm9sIG9iamVjdCB3aGljaCBhbGxvd3NcbiAqIHRoZSBsaXN0ZW5lcnMvaGFuZGxlcnMgdG8gcHJldmVudCB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUgZ2l2ZW4gZXZlbnQuXG4gKlxuICogVGhlIGVtaXR0ZXIgaXMgZGVzaWduZWQgdG8gYmUgZ2VuZXJpYyBlbm91Z2ggdG8gc3VwcG9ydCBhbGwgdGhlIGRpZmZlcmVudFxuICogY29udGV4dHMgaW4gd2hpY2ggb25lIG1pZ2h0IHdhbnQgdG8gZW1pdCBldmVudHMuIEl0IGlzIGEgc2ltcGxlIG11bHRpY2FzdFxuICogbWVjaGFuaXNtIG9uIHRvcCBvZiB3aGljaCBleHRyYSBmdW5jdGlvbmFsaXR5IGNhbiBiZSBjb21wb3NlZC4gRm9yIGV4YW1wbGUsIGFcbiAqIG1vcmUgYWR2YW5jZWQgZW1pdHRlciBtYXkgdXNlIGFuIEV2ZW50SG9sZGVyIGFuZCBFdmVudEZhY3RvcnkuXG4gKi9cbmNsYXNzIEV2ZW50RW1pdHRlcjxFdmVudERlZmluaXRpb25zOiB7Li4ufT4ge1xuICBfc3Vic2NyaWJlcjogRXZlbnRTdWJzY3JpcHRpb25WZW5kb3I8RXZlbnREZWZpbml0aW9ucz4gPVxuICAgIG5ldyBFdmVudFN1YnNjcmlwdGlvblZlbmRvcjxFdmVudERlZmluaXRpb25zPigpO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKHN1YnNjcmliZXI6ID9FdmVudFN1YnNjcmlwdGlvblZlbmRvcjxFdmVudERlZmluaXRpb25zPikge1xuICAgIGlmIChzdWJzY3JpYmVyICE9IG51bGwpIHtcbiAgICAgIGNvbnNvbGUud2FybignRXZlbnRFbWl0dGVyKC4uLik6IENvbnN0cnVjdG9yIGFyZ3VtZW50IGlzIGRlcHJlY2F0ZWQuJyk7XG4gICAgICB0aGlzLl9zdWJzY3JpYmVyID0gc3Vic2NyaWJlcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGxpc3RlbmVyIHRvIGJlIGludm9rZWQgd2hlbiBldmVudHMgb2YgdGhlIHNwZWNpZmllZCB0eXBlIGFyZVxuICAgKiBlbWl0dGVkLiBBbiBvcHRpb25hbCBjYWxsaW5nIGNvbnRleHQgbWF5IGJlIHByb3ZpZGVkLiBUaGUgZGF0YSBhcmd1bWVudHNcbiAgICogZW1pdHRlZCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgLSBOYW1lIG9mIHRoZSBldmVudCB0byBsaXN0ZW4gdG9cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gbGlzdGVuZXIgLSBGdW5jdGlvbiB0byBpbnZva2Ugd2hlbiB0aGUgc3BlY2lmaWVkIGV2ZW50IGlzXG4gICAqICAgZW1pdHRlZFxuICAgKiBAcGFyYW0geyp9IGNvbnRleHQgLSBPcHRpb25hbCBjb250ZXh0IG9iamVjdCB0byB1c2Ugd2hlbiBpbnZva2luZyB0aGVcbiAgICogICBsaXN0ZW5lclxuICAgKi9cbiAgYWRkTGlzdGVuZXI8SzogJEtleXM8RXZlbnREZWZpbml0aW9ucz4+KFxuICAgIGV2ZW50VHlwZTogSyxcbiAgICAvLyBGSVhNRTogbGlzdGVuZXJzIHNob3VsZCByZXR1cm4gdm9pZCBpbnN0ZWFkIG9mIG1peGVkIHRvIHByZXZlbnQgaXNzdWVzXG4gICAgbGlzdGVuZXI6ICguLi4kRWxlbWVudFR5cGU8RXZlbnREZWZpbml0aW9ucywgSz4pID0+IG1peGVkLFxuICAgIGNvbnRleHQ6ICRGbG93Rml4TWUsXG4gICk6IEV2ZW50U3Vic2NyaXB0aW9uIHtcbiAgICByZXR1cm4gKHRoaXMuX3N1YnNjcmliZXIuYWRkU3Vic2NyaXB0aW9uKFxuICAgICAgZXZlbnRUeXBlLFxuICAgICAgbmV3IEVtaXR0ZXJTdWJzY3JpcHRpb24odGhpcywgdGhpcy5fc3Vic2NyaWJlciwgbGlzdGVuZXIsIGNvbnRleHQpLFxuICAgICk6ICRGbG93Rml4TWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIG9mIHRoZSByZWdpc3RlcmVkIGxpc3RlbmVycywgaW5jbHVkaW5nIHRob3NlIHJlZ2lzdGVyZWQgYXNcbiAgICogbGlzdGVuZXIgbWFwcy5cbiAgICpcbiAgICogQHBhcmFtIHs/c3RyaW5nfSBldmVudFR5cGUgLSBPcHRpb25hbCBuYW1lIG9mIHRoZSBldmVudCB3aG9zZSByZWdpc3RlcmVkXG4gICAqICAgbGlzdGVuZXJzIHRvIHJlbW92ZVxuICAgKi9cbiAgcmVtb3ZlQWxsTGlzdGVuZXJzPEs6ICRLZXlzPEV2ZW50RGVmaW5pdGlvbnM+PihldmVudFR5cGU6ID9LKTogdm9pZCB7XG4gICAgdGhpcy5fc3Vic2NyaWJlci5yZW1vdmVBbGxTdWJzY3JpcHRpb25zKGV2ZW50VHlwZSk7XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGByZW1vdmVgIG9uIHRoZSBFdmVudFN1YnNjcmlwdGlvbiBmcm9tIGBhZGRMaXN0ZW5lcmAuXG4gICAqL1xuICByZW1vdmVTdWJzY3JpcHRpb248SzogJEtleXM8RXZlbnREZWZpbml0aW9ucz4+KFxuICAgIHN1YnNjcmlwdGlvbjogRW1pdHRlclN1YnNjcmlwdGlvbjxFdmVudERlZmluaXRpb25zLCBLPixcbiAgKTogdm9pZCB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgJ0V2ZW50RW1pdHRlci5yZW1vdmVTdWJzY3JpcHRpb24oLi4uKTogTWV0aG9kIGhhcyBiZWVuIGRlcHJlY2F0ZWQuICcgK1xuICAgICAgICAnUGxlYXNlIGluc3RlYWQgdXNlIGByZW1vdmUoKWAgb24gdGhlIHN1YnNjcmlwdGlvbiBpdHNlbGYuJyxcbiAgICApO1xuICAgIHRoaXMuX19yZW1vdmVTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYnkgYEVtaXR0ZXJTdWJzY3JpcHRpb25gIHRvIGJ5cGFzcyB0aGUgYWJvdmUgZGVwcmVjYXRpb24gd2FybmluZy5cbiAgICovXG4gIF9fcmVtb3ZlU3Vic2NyaXB0aW9uPEs6ICRLZXlzPEV2ZW50RGVmaW5pdGlvbnM+PihcbiAgICBzdWJzY3JpcHRpb246IEVtaXR0ZXJTdWJzY3JpcHRpb248RXZlbnREZWZpbml0aW9ucywgSz4sXG4gICk6IHZvaWQge1xuICAgIGludmFyaWFudChcbiAgICAgIHN1YnNjcmlwdGlvbi5lbWl0dGVyID09PSB0aGlzLFxuICAgICAgJ1N1YnNjcmlwdGlvbiBkb2VzIG5vdCBiZWxvbmcgdG8gdGhpcyBlbWl0dGVyLicsXG4gICAgKTtcbiAgICB0aGlzLl9zdWJzY3JpYmVyLnJlbW92ZVN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBsaXN0ZW5lcnMgdGhhdCBhcmUgY3VycmVudGx5IHJlZ2lzdGVyZWQgZm9yIHRoZSBnaXZlblxuICAgKiBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIE5hbWUgb2YgdGhlIGV2ZW50IHRvIHF1ZXJ5XG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBsaXN0ZW5lckNvdW50PEs6ICRLZXlzPEV2ZW50RGVmaW5pdGlvbnM+PihldmVudFR5cGU6IEspOiBudW1iZXIge1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpYmVyLmdldFN1YnNjcmlwdGlvbnNGb3JUeXBlKGV2ZW50VHlwZSk7XG4gICAgcmV0dXJuIHN1YnNjcmlwdGlvbnNcbiAgICAgID8gLy8gV2UgZmlsdGVyIG91dCBtaXNzaW5nIGVudHJpZXMgYmVjYXVzZSB0aGUgYXJyYXkgaXMgc3BhcnNlLlxuICAgICAgICAvLyBcImNhbGxiYWNrZm4gaXMgY2FsbGVkIG9ubHkgZm9yIGVsZW1lbnRzIG9mIHRoZSBhcnJheSB3aGljaCBhY3R1YWxseVxuICAgICAgICAvLyBleGlzdDsgaXQgaXMgbm90IGNhbGxlZCBmb3IgbWlzc2luZyBlbGVtZW50cyBvZiB0aGUgYXJyYXkuXCJcbiAgICAgICAgLy8gaHR0cHM6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi85LjAvaW5kZXguaHRtbCNzZWMtYXJyYXkucHJvdG90eXBlLmZpbHRlclxuICAgICAgICBzdWJzY3JpcHRpb25zLmZpbHRlcihzcGFyc2VGaWx0ZXJQcmVkaWNhdGUpLmxlbmd0aFxuICAgICAgOiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEVtaXRzIGFuIGV2ZW50IG9mIHRoZSBnaXZlbiB0eXBlIHdpdGggdGhlIGdpdmVuIGRhdGEuIEFsbCBoYW5kbGVycyBvZiB0aGF0XG4gICAqIHBhcnRpY3VsYXIgdHlwZSB3aWxsIGJlIG5vdGlmaWVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIC0gTmFtZSBvZiB0aGUgZXZlbnQgdG8gZW1pdFxuICAgKiBAcGFyYW0gey4uLip9IEFyYml0cmFyeSBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIGVhY2ggcmVnaXN0ZXJlZCBsaXN0ZW5lclxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiAgIGVtaXR0ZXIuYWRkTGlzdGVuZXIoJ3NvbWVFdmVudCcsIGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgKiAgIH0pO1xuICAgKlxuICAgKiAgIGVtaXR0ZXIuZW1pdCgnc29tZUV2ZW50JywgJ2FiYycpOyAvLyBsb2dzICdhYmMnXG4gICAqL1xuICBlbWl0PEs6ICRLZXlzPEV2ZW50RGVmaW5pdGlvbnM+PihcbiAgICBldmVudFR5cGU6IEssXG4gICAgLi4uYXJnczogJEVsZW1lbnRUeXBlPEV2ZW50RGVmaW5pdGlvbnMsIEs+XG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpYmVyLmdldFN1YnNjcmlwdGlvbnNGb3JUeXBlKGV2ZW50VHlwZSk7XG4gICAgaWYgKHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gc3Vic2NyaXB0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gc3Vic2NyaXB0aW9uc1tpXTtcblxuICAgICAgICAvLyBUaGUgc3Vic2NyaXB0aW9uIG1heSBoYXZlIGJlZW4gcmVtb3ZlZCBkdXJpbmcgdGhpcyBldmVudCBsb29wLlxuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uICYmIHN1YnNjcmlwdGlvbi5saXN0ZW5lcikge1xuICAgICAgICAgIHN1YnNjcmlwdGlvbi5saXN0ZW5lci5hcHBseShzdWJzY3JpcHRpb24uY29udGV4dCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGByZW1vdmVgIG9uIHRoZSBFdmVudFN1YnNjcmlwdGlvbiBmcm9tIGBhZGRMaXN0ZW5lcmAuXG4gICAqL1xuICByZW1vdmVMaXN0ZW5lcjxLOiAkS2V5czxFdmVudERlZmluaXRpb25zPj4oXG4gICAgZXZlbnRUeXBlOiBLLFxuICAgIC8vIEZJWE1FOiBsaXN0ZW5lcnMgc2hvdWxkIHJldHVybiB2b2lkIGluc3RlYWQgb2YgbWl4ZWQgdG8gcHJldmVudCBpc3N1ZXNcbiAgICBsaXN0ZW5lcjogKC4uLiRFbGVtZW50VHlwZTxFdmVudERlZmluaXRpb25zLCBLPikgPT4gbWl4ZWQsXG4gICk6IHZvaWQge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBFdmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoJyR7ZXZlbnRUeXBlfScsIC4uLik6IE1ldGhvZCBoYXMgYmVlbiBgICtcbiAgICAgICAgJ2RlcHJlY2F0ZWQuIFBsZWFzZSBpbnN0ZWFkIHVzZSBgcmVtb3ZlKClgIG9uIHRoZSBzdWJzY3JpcHRpb24gJyArXG4gICAgICAgICdyZXR1cm5lZCBieSBgRXZlbnRFbWl0dGVyLmFkZExpc3RlbmVyYC4nLFxuICAgICk7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmliZXIuZ2V0U3Vic2NyaXB0aW9uc0ZvclR5cGUoZXZlbnRUeXBlKTtcbiAgICBpZiAoc3Vic2NyaXB0aW9ucykge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBzdWJzY3JpcHRpb25zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBzdWJzY3JpcHRpb25zW2ldO1xuXG4gICAgICAgIC8vIFRoZSBzdWJzY3JpcHRpb24gbWF5IGhhdmUgYmVlbiByZW1vdmVkIGR1cmluZyB0aGlzIGV2ZW50IGxvb3AuXG4gICAgICAgIC8vIGl0cyBsaXN0ZW5lciBtYXRjaGVzIHRoZSBsaXN0ZW5lciBpbiBtZXRob2QgcGFyYW1ldGVyc1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uICYmIHN1YnNjcmlwdGlvbi5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICBzdWJzY3JpcHRpb24ucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG4iXSwibWFwcGluZ3MiOiI7OztBQWFBLElBQUFBLG9CQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBQyx3QkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBSkEsSUFBTUUsU0FBUyxHQUFHRixPQUFPLENBQUMsV0FBVyxDQUFDO0FBTXRDLElBQU1HLHFCQUFxQixHQUFHLFNBQXhCQSxxQkFBcUJBLENBQUE7RUFBQSxPQUFTLElBQUk7QUFBQTtBQUFDLElBZW5DQyxZQUFZO0VBT2hCLFNBQUFBLGFBQVlDLFVBQXNELEVBQUU7SUFBQSxJQUFBQyxnQkFBQSxDQUFBQyxPQUFBLFFBQUFILFlBQUE7SUFBQSxLQU5wRUksV0FBVyxHQUNULElBQUlDLGdDQUF1QixFQUFvQjtJQU0vQyxJQUFJSixVQUFVLElBQUksSUFBSSxFQUFFO01BQ3RCSyxPQUFPLENBQUNDLElBQUksQ0FBQyx3REFBd0QsQ0FBQztNQUN0RSxJQUFJLENBQUNILFdBQVcsR0FBR0gsVUFBVTtJQUMvQjtFQUNGO0VBQUMsSUFBQU8sYUFBQSxDQUFBTCxPQUFBLEVBQUFILFlBQUE7SUFBQVMsR0FBQTtJQUFBQyxLQUFBLEVBYUQsU0FBQUMsWUFDRUMsU0FBWSxFQUVaQyxRQUF5RCxFQUN6REMsT0FBbUIsRUFDQTtNQUNuQixPQUFRLElBQUksQ0FBQ1YsV0FBVyxDQUFDVyxlQUFlLENBQ3RDSCxTQUFTLEVBQ1QsSUFBSUksNEJBQW1CLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQ1osV0FBVyxFQUFFUyxRQUFRLEVBQUVDLE9BQU8sQ0FBQyxDQUNuRTtJQUNIO0VBQUM7SUFBQUwsR0FBQTtJQUFBQyxLQUFBLEVBU0QsU0FBQU8s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