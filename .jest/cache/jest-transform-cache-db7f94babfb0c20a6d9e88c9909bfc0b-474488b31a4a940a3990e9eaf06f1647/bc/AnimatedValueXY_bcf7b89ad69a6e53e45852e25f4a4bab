2728764e7b6c9ba6eb19fb5b76112623
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var AnimatedValue = require('./AnimatedValue');
var AnimatedWithChildren = require('./AnimatedWithChildren');
var invariant = require('invariant');
var _uniqueId = 1;
var AnimatedValueXY = function (_AnimatedWithChildren) {
  (0, _inherits2.default)(AnimatedValueXY, _AnimatedWithChildren);
  var _super = _createSuper(AnimatedValueXY);
  function AnimatedValueXY(valueIn) {
    var _this;
    (0, _classCallCheck2.default)(this, AnimatedValueXY);
    _this = _super.call(this);
    var value = valueIn || {
      x: 0,
      y: 0
    };
    if (typeof value.x === 'number' && typeof value.y === 'number') {
      _this.x = new AnimatedValue(value.x);
      _this.y = new AnimatedValue(value.y);
    } else {
      invariant(value.x instanceof AnimatedValue && value.y instanceof AnimatedValue, 'AnimatedValueXY must be initialized with an object of numbers or ' + 'AnimatedValues.');
      _this.x = value.x;
      _this.y = value.y;
    }
    _this._listeners = {};
    return _this;
  }
  (0, _createClass2.default)(AnimatedValueXY, [{
    key: "setValue",
    value: function setValue(value) {
      this.x.setValue(value.x);
      this.y.setValue(value.y);
    }
  }, {
    key: "setOffset",
    value: function setOffset(offset) {
      this.x.setOffset(offset.x);
      this.y.setOffset(offset.y);
    }
  }, {
    key: "flattenOffset",
    value: function flattenOffset() {
      this.x.flattenOffset();
      this.y.flattenOffset();
    }
  }, {
    key: "extractOffset",
    value: function extractOffset() {
      this.x.extractOffset();
      this.y.extractOffset();
    }
  }, {
    key: "__getValue",
    value: function __getValue() {
      return {
        x: this.x.__getValue(),
        y: this.y.__getValue()
      };
    }
  }, {
    key: "resetAnimation",
    value: function resetAnimation(callback) {
      this.x.resetAnimation();
      this.y.resetAnimation();
      callback && callback(this.__getValue());
    }
  }, {
    key: "stopAnimation",
    value: function stopAnimation(callback) {
      this.x.stopAnimation();
      this.y.stopAnimation();
      callback && callback(this.__getValue());
    }
  }, {
    key: "addListener",
    value: function addListener(callback) {
      var _this2 = this;
      var id = String(_uniqueId++);
      var jointCallback = function jointCallback(_ref) {
        var number = _ref.value;
        callback(_this2.__getValue());
      };
      this._listeners[id] = {
        x: this.x.addListener(jointCallback),
        y: this.y.addListener(jointCallback)
      };
      return id;
    }
  }, {
    key: "removeListener",
    value: function removeListener(id) {
      this.x.removeListener(this._listeners[id].x);
      this.y.removeListener(this._listeners[id].y);
      delete this._listeners[id];
    }
  }, {
    key: "removeAllListeners",
    value: function removeAllListeners() {
      this.x.removeAllListeners();
      this.y.removeAllListeners();
      this._listeners = {};
    }
  }, {
    key: "getLayout",
    value: function getLayout() {
      return {
        left: this.x,
        top: this.y
      };
    }
  }, {
    key: "getTranslateTransform",
    value: function getTranslateTransform() {
      return [{
        translateX: this.x
      }, {
        translateY: this.y
      }];
    }
  }]);
  return AnimatedValueXY;
}(AnimatedWithChildren);
module.exports = AnimatedValueXY;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY3JlYXRlQ2xhc3MyIiwiX2luaGVyaXRzMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9nZXRQcm90b3R5cGVPZjIiLCJfY3JlYXRlU3VwZXIiLCJEZXJpdmVkIiwiaGFzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QiLCJfY3JlYXRlU3VwZXJJbnRlcm5hbCIsIlN1cGVyIiwiZGVmYXVsdCIsInJlc3VsdCIsIk5ld1RhcmdldCIsImNvbnN0cnVjdG9yIiwiUmVmbGVjdCIsImNvbnN0cnVjdCIsImFyZ3VtZW50cyIsImFwcGx5Iiwic2hhbSIsIlByb3h5IiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJjYWxsIiwiZSIsIkFuaW1hdGVkVmFsdWUiLCJBbmltYXRlZFdpdGhDaGlsZHJlbiIsImludmFyaWFudCIsIl91bmlxdWVJZCIsIkFuaW1hdGVkVmFsdWVYWSIsIl9BbmltYXRlZFdpdGhDaGlsZHJlbiIsIl9zdXBlciIsInZhbHVlSW4iLCJfdGhpcyIsInZhbHVlIiwieCIsInkiLCJfbGlzdGVuZXJzIiwia2V5Iiwic2V0VmFsdWUiLCJzZXRPZmZzZXQiLCJvZmZzZXQiLCJmbGF0dGVuT2Zmc2V0IiwiZXh0cmFjdE9mZnNldCIsIl9fZ2V0VmFsdWUiLCJyZXNldEFuaW1hdGlvbiIsImNhbGxiYWNrIiwic3RvcEFuaW1hdGlvbiIsImFkZExpc3RlbmVyIiwiX3RoaXMyIiwiaWQiLCJTdHJpbmciLCJqb2ludENhbGxiYWNrIiwiX3JlZiIsIm51bWJlciIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZ2V0TGF5b3V0IiwibGVmdCIsInRvcCIsImdldFRyYW5zbGF0ZVRyYW5zZm9ybSIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIkFuaW1hdGVkVmFsdWVYWS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IEFuaW1hdGVkVmFsdWUgPSByZXF1aXJlKCcuL0FuaW1hdGVkVmFsdWUnKTtcbmNvbnN0IEFuaW1hdGVkV2l0aENoaWxkcmVuID0gcmVxdWlyZSgnLi9BbmltYXRlZFdpdGhDaGlsZHJlbicpO1xuXG5jb25zdCBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxudHlwZSBWYWx1ZVhZTGlzdGVuZXJDYWxsYmFjayA9ICh2YWx1ZToge1xuICB4OiBudW1iZXIsXG4gIHk6IG51bWJlcixcbiAgLi4uXG59KSA9PiBtaXhlZDtcblxubGV0IF91bmlxdWVJZCA9IDE7XG5cbi8qKlxuICogMkQgVmFsdWUgZm9yIGRyaXZpbmcgMkQgYW5pbWF0aW9ucywgc3VjaCBhcyBwYW4gZ2VzdHVyZXMuIEFsbW9zdCBpZGVudGljYWxcbiAqIEFQSSB0byBub3JtYWwgYEFuaW1hdGVkLlZhbHVlYCwgYnV0IG11bHRpcGxleGVkLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWV4eVxuICovXG5jbGFzcyBBbmltYXRlZFZhbHVlWFkgZXh0ZW5kcyBBbmltYXRlZFdpdGhDaGlsZHJlbiB7XG4gIHg6IEFuaW1hdGVkVmFsdWU7XG4gIHk6IEFuaW1hdGVkVmFsdWU7XG4gIF9saXN0ZW5lcnM6IHtcbiAgICBba2V5OiBzdHJpbmddOiB7XG4gICAgICB4OiBzdHJpbmcsXG4gICAgICB5OiBzdHJpbmcsXG4gICAgICAuLi5cbiAgICB9LFxuICAgIC4uLlxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHZhbHVlSW4/OiA/e1xuICAgICAgK3g6IG51bWJlciB8IEFuaW1hdGVkVmFsdWUsXG4gICAgICAreTogbnVtYmVyIHwgQW5pbWF0ZWRWYWx1ZSxcbiAgICAgIC4uLlxuICAgIH0sXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3QgdmFsdWU6IGFueSA9IHZhbHVlSW4gfHwge3g6IDAsIHk6IDB9OyAvLyBAZmxvd2ZpeG1lOiBzaG91bGRuJ3QgbmVlZCBgOiBhbnlgXG4gICAgaWYgKHR5cGVvZiB2YWx1ZS54ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsdWUueSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRoaXMueCA9IG5ldyBBbmltYXRlZFZhbHVlKHZhbHVlLngpO1xuICAgICAgdGhpcy55ID0gbmV3IEFuaW1hdGVkVmFsdWUodmFsdWUueSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdmFsdWUueCBpbnN0YW5jZW9mIEFuaW1hdGVkVmFsdWUgJiYgdmFsdWUueSBpbnN0YW5jZW9mIEFuaW1hdGVkVmFsdWUsXG4gICAgICAgICdBbmltYXRlZFZhbHVlWFkgbXVzdCBiZSBpbml0aWFsaXplZCB3aXRoIGFuIG9iamVjdCBvZiBudW1iZXJzIG9yICcgK1xuICAgICAgICAgICdBbmltYXRlZFZhbHVlcy4nLFxuICAgICAgKTtcbiAgICAgIHRoaXMueCA9IHZhbHVlLng7XG4gICAgICB0aGlzLnkgPSB2YWx1ZS55O1xuICAgIH1cbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXJlY3RseSBzZXQgdGhlIHZhbHVlLiBUaGlzIHdpbGwgc3RvcCBhbnkgYW5pbWF0aW9ucyBydW5uaW5nIG9uIHRoZSB2YWx1ZVxuICAgKiBhbmQgdXBkYXRlIGFsbCB0aGUgYm91bmQgcHJvcGVydGllcy5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZXh5I3NldHZhbHVlXG4gICAqL1xuICBzZXRWYWx1ZSh2YWx1ZToge3g6IG51bWJlciwgeTogbnVtYmVyLCAuLi59KSB7XG4gICAgdGhpcy54LnNldFZhbHVlKHZhbHVlLngpO1xuICAgIHRoaXMueS5zZXRWYWx1ZSh2YWx1ZS55KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGFuIG9mZnNldCB0aGF0IGlzIGFwcGxpZWQgb24gdG9wIG9mIHdoYXRldmVyIHZhbHVlIGlzIHNldCwgd2hldGhlclxuICAgKiB2aWEgYHNldFZhbHVlYCwgYW4gYW5pbWF0aW9uLCBvciBgQW5pbWF0ZWQuZXZlbnRgLiBVc2VmdWwgZm9yIGNvbXBlbnNhdGluZ1xuICAgKiB0aGluZ3MgbGlrZSB0aGUgc3RhcnQgb2YgYSBwYW4gZ2VzdHVyZS5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZXh5I3NldG9mZnNldFxuICAgKi9cbiAgc2V0T2Zmc2V0KG9mZnNldDoge3g6IG51bWJlciwgeTogbnVtYmVyLCAuLi59KSB7XG4gICAgdGhpcy54LnNldE9mZnNldChvZmZzZXQueCk7XG4gICAgdGhpcy55LnNldE9mZnNldChvZmZzZXQueSk7XG4gIH1cblxuICAvKipcbiAgICogTWVyZ2VzIHRoZSBvZmZzZXQgdmFsdWUgaW50byB0aGUgYmFzZSB2YWx1ZSBhbmQgcmVzZXRzIHRoZSBvZmZzZXQgdG8gemVyby5cbiAgICogVGhlIGZpbmFsIG91dHB1dCBvZiB0aGUgdmFsdWUgaXMgdW5jaGFuZ2VkLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVleHkjZmxhdHRlbm9mZnNldFxuICAgKi9cbiAgZmxhdHRlbk9mZnNldCgpOiB2b2lkIHtcbiAgICB0aGlzLnguZmxhdHRlbk9mZnNldCgpO1xuICAgIHRoaXMueS5mbGF0dGVuT2Zmc2V0KCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgb2Zmc2V0IHZhbHVlIHRvIHRoZSBiYXNlIHZhbHVlLCBhbmQgcmVzZXRzIHRoZSBiYXNlIHZhbHVlIHRvXG4gICAqIHplcm8uIFRoZSBmaW5hbCBvdXRwdXQgb2YgdGhlIHZhbHVlIGlzIHVuY2hhbmdlZC5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZXh5I2V4dHJhY3RvZmZzZXRcbiAgICovXG4gIGV4dHJhY3RPZmZzZXQoKTogdm9pZCB7XG4gICAgdGhpcy54LmV4dHJhY3RPZmZzZXQoKTtcbiAgICB0aGlzLnkuZXh0cmFjdE9mZnNldCgpO1xuICB9XG5cbiAgX19nZXRWYWx1ZSgpOiB7XG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlcixcbiAgICAuLi5cbiAgfSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHRoaXMueC5fX2dldFZhbHVlKCksXG4gICAgICB5OiB0aGlzLnkuX19nZXRWYWx1ZSgpLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgYW55IGFuaW1hdGlvbiBhbmQgcmVzZXRzIHRoZSB2YWx1ZSB0byBpdHMgb3JpZ2luYWwuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWV4eSNyZXNldGFuaW1hdGlvblxuICAgKi9cbiAgcmVzZXRBbmltYXRpb24oXG4gICAgY2FsbGJhY2s/OiAodmFsdWU6IHtcbiAgICAgIHg6IG51bWJlcixcbiAgICAgIHk6IG51bWJlcixcbiAgICAgIC4uLlxuICAgIH0pID0+IHZvaWQsXG4gICk6IHZvaWQge1xuICAgIHRoaXMueC5yZXNldEFuaW1hdGlvbigpO1xuICAgIHRoaXMueS5yZXNldEFuaW1hdGlvbigpO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHRoaXMuX19nZXRWYWx1ZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyBhbnkgcnVubmluZyBhbmltYXRpb24gb3IgdHJhY2tpbmcuIGBjYWxsYmFja2AgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgKiBmaW5hbCB2YWx1ZSBhZnRlciBzdG9wcGluZyB0aGUgYW5pbWF0aW9uLCB3aGljaCBpcyB1c2VmdWwgZm9yIHVwZGF0aW5nXG4gICAqIHN0YXRlIHRvIG1hdGNoIHRoZSBhbmltYXRpb24gcG9zaXRpb24gd2l0aCBsYXlvdXQuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWV4eSNzdG9wYW5pbWF0aW9uXG4gICAqL1xuICBzdG9wQW5pbWF0aW9uKFxuICAgIGNhbGxiYWNrPzogKHZhbHVlOiB7XG4gICAgICB4OiBudW1iZXIsXG4gICAgICB5OiBudW1iZXIsXG4gICAgICAuLi5cbiAgICB9KSA9PiB2b2lkLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLnguc3RvcEFuaW1hdGlvbigpO1xuICAgIHRoaXMueS5zdG9wQW5pbWF0aW9uKCk7XG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sodGhpcy5fX2dldFZhbHVlKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYW4gYXN5bmNocm9ub3VzIGxpc3RlbmVyIHRvIHRoZSB2YWx1ZSBzbyB5b3UgY2FuIG9ic2VydmUgdXBkYXRlcyBmcm9tXG4gICAqIGFuaW1hdGlvbnMuICBUaGlzIGlzIHVzZWZ1bCBiZWNhdXNlIHRoZXJlIGlzIG5vIHdheSB0byBzeW5jaHJvbm91c2x5IHJlYWRcbiAgICogdGhlIHZhbHVlIGJlY2F1c2UgaXQgbWlnaHQgYmUgZHJpdmVuIG5hdGl2ZWx5LlxuICAgKlxuICAgKiBSZXR1cm5zIGEgc3RyaW5nIHRoYXQgc2VydmVzIGFzIGFuIGlkZW50aWZpZXIgZm9yIHRoZSBsaXN0ZW5lci5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZXh5I2FkZGxpc3RlbmVyXG4gICAqL1xuICBhZGRMaXN0ZW5lcihjYWxsYmFjazogVmFsdWVYWUxpc3RlbmVyQ2FsbGJhY2spOiBzdHJpbmcge1xuICAgIGNvbnN0IGlkID0gU3RyaW5nKF91bmlxdWVJZCsrKTtcbiAgICBjb25zdCBqb2ludENhbGxiYWNrID0gKHt2YWx1ZTogbnVtYmVyfSkgPT4ge1xuICAgICAgY2FsbGJhY2sodGhpcy5fX2dldFZhbHVlKCkpO1xuICAgIH07XG4gICAgdGhpcy5fbGlzdGVuZXJzW2lkXSA9IHtcbiAgICAgIHg6IHRoaXMueC5hZGRMaXN0ZW5lcihqb2ludENhbGxiYWNrKSxcbiAgICAgIHk6IHRoaXMueS5hZGRMaXN0ZW5lcihqb2ludENhbGxiYWNrKSxcbiAgICB9O1xuICAgIHJldHVybiBpZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbnJlZ2lzdGVyIGEgbGlzdGVuZXIuIFRoZSBgaWRgIHBhcmFtIHNoYWxsIG1hdGNoIHRoZSBpZGVudGlmaWVyXG4gICAqIHByZXZpb3VzbHkgcmV0dXJuZWQgYnkgYGFkZExpc3RlbmVyKClgLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVleHkjcmVtb3ZlbGlzdGVuZXJcbiAgICovXG4gIHJlbW92ZUxpc3RlbmVyKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLngucmVtb3ZlTGlzdGVuZXIodGhpcy5fbGlzdGVuZXJzW2lkXS54KTtcbiAgICB0aGlzLnkucmVtb3ZlTGlzdGVuZXIodGhpcy5fbGlzdGVuZXJzW2lkXS55KTtcbiAgICBkZWxldGUgdGhpcy5fbGlzdGVuZXJzW2lkXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVleHkjcmVtb3ZlYWxsbGlzdGVuZXJzXG4gICAqL1xuICByZW1vdmVBbGxMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgdGhpcy54LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHRoaXMueS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBge3gsIHl9YCBpbnRvIGB7bGVmdCwgdG9wfWAgZm9yIHVzZSBpbiBzdHlsZS5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZXh5I2dldGxheW91dFxuICAgKi9cbiAgZ2V0TGF5b3V0KCk6IHtba2V5OiBzdHJpbmddOiBBbmltYXRlZFZhbHVlLCAuLi59IHtcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogdGhpcy54LFxuICAgICAgdG9wOiB0aGlzLnksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBge3gsIHl9YCBpbnRvIGEgdXNlYWJsZSB0cmFuc2xhdGlvbiB0cmFuc2Zvcm0uXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWV4eSNnZXR0cmFuc2xhdGV0cmFuc2Zvcm1cbiAgICovXG4gIGdldFRyYW5zbGF0ZVRyYW5zZm9ybSgpOiBBcnJheTx7W2tleTogc3RyaW5nXTogQW5pbWF0ZWRWYWx1ZSwgLi4ufT4ge1xuICAgIHJldHVybiBbe3RyYW5zbGF0ZVg6IHRoaXMueH0sIHt0cmFuc2xhdGVZOiB0aGlzLnl9XTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEFuaW1hdGVkVmFsdWVYWTtcbiJdLCJtYXBwaW5ncyI6IkFBVUEsWUFBWTs7QUFBQyxJQUFBQSxzQkFBQSxHQUFBQyxPQUFBO0FBQUEsSUFBQUMsZ0JBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFFLGFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFJLDJCQUFB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